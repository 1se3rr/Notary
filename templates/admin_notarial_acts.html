{% extends 'base.html' %}

{% block title %}Административный кабинет - Нотариальные действия{% endblock %}

{% block content %}
<h1>Административный кабинет - Нотариальные действия</h1>

<h2>Управление категориями</h2>
<form method="POST" action="{{ url_for('admin_notarial_acts') }}">
    <input type="hidden" name="form_type" value="add_category">
    <label for="name">Название категории:</label>
    <input type="text" id="name" name="name" required>
    <button type="submit">Добавить</button>
</form>

<ul>
    {% for category in categories %}
    <li>
        <form method="POST" action="{{ url_for('admin_notarial_acts') }}" style="display:inline;">
            <input type="hidden" name="form_type" value="edit_category">
            <input type="hidden" name="id" value="{{ category.id }}">
            <input type="text" name="name" value="{{ category.name }}" required>
            <button type="submit">Сохранить</button>
        </form>
        <form method="POST" action="{{ url_for('admin_notarial_acts') }}" style="display:inline;">
            <input type="hidden" name="form_type" value="delete_category">
            <input type="hidden" name="id" value="{{ category.id }}">
            <button type="submit">Удалить</button>
        </form>
    </li>
    {% endfor %}
</ul>

<h2>Управление действиями</h2>
<form method="POST" action="{{ url_for('admin_notarial_acts') }}">
    <input type="hidden" name="form_type" value="add_action">
    <label for="name">Название действия:</label>
    <input type="text" id="name" name="name" required>
    <label for="description">Описание:</label>
    <input type="text" id="description" name="description">
    <label for="category_id">Категория:</label>
    <select id="category_id" name="category_id">
        {% for category in categories %}
        <option value="{{ category.id }}">{{ category.name }}</option>
        {% endfor %}
    </select>
    <button type="submit">Добавить</button>
</form>

<ul>
    {% for action in actions %}
    <li>
        <form method="POST" action="{{ url_for('admin_notarial_acts') }}" style="display:inline;">
            <input type="hidden" name="form_type" value="edit_action">
            <input type="hidden" name="id" value="{{ action.id }}">
            <input type="text" name="name" value="{{ action.name }}" required>
            <input type="text" name="description" value="{{ action.description }}">
            <select name="category_id">
                {% for category in categories %}
                <option value="{{ category.id }}" {% if category.id == action.category_id %}selected{% endif %}>{{ category.name }}</option>
                {% endfor %}
            </select>
            <button type="submit">Сохранить</button>
        </form>
        <form method="POST" action="{{ url_for('admin_notarial_acts') }}" style="display:inline;">
            <input type="hidden" name="form_type" value="delete_action">
            <input type="hidden" name="id" value="{{ action.id }}">
            <button type="submit">Удалить</button>
        </form>
    </li>
    {% endfor %}
</ul>

{% endblock %}
